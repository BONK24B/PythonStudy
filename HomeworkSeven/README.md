# Калькулятор

## Работа

Пользователь вводит 2 целых числа и операцию,
которую он желает совершить. Программа проводит
эту операцию, и записывает в лог операнды и результат. Если совершена ошибка вроде деления на 0, неправильно введённого числа или символа операции, программа выдаёт сообщение об ошибке и так же логирует её.

## Принцип работы

Программа состоит из 5 модулей:  
1. main.py
2. Controller.py
3. model.py
4. View.py
5. logger.py  

## main.py

Из этого модуля происходит запуск программы.
В него включён модуль **Controller/py**, он запускает его функцию *button_click*

## Controller.py

К этому модулю подключены 3 модуля (*View.py*, *model.py*, *logger.py*), в модуле присутствует одна функция - *button_click*
### button_click
Сначала эта функция создаёт переменную *result*, для хранения результата работы. После этого функция используя функции *get_value* и *get_operation* модуля **View.py** записывает значения операндов и операции  
> value_a = View.get_value()  
    value_b = View.get_operation()  
    value_c = View.get_value()  

И, используя модуль **model.py** передаёт ему эти значения
> model.init(value_a, value_c)

После чего начинается проверка операции и её исполнение в зависимости от ввода, так же сразу после сравнения, если нет ошибки производится вывод результата через **View.py** и логгирование
> if value_b == "+":  
        result = model.sum()    
        View.print_data(result)  
        logger.result_logger(value_a, value_b, value_c, result) 

*пример проверки суммы*

В случае нахождения ошибки происходит вывод сообщения о её наличии через модуль **View.py** и лог этой ошибки через **logger.py**
>   else:  
        View.print_data("Error")  
        logger.error_log()

## model.py

В этом модуле происходят все операции с числами.  
Изначально задаются 2 числа - х и у, которые инициализируются в функции *init*
>def init(a, b):  
    global x, y  
    x = a  
    y = b

Далее с помощью функций: *sum, sub, mult и div* производятся действия над данными числами.

## View.py

Этот модуль отвечает за взаимодействие с пользователем.

Сначала с помощью функций *get_value и get_operation* пользователь вводит числа и операцию, функция *get_operation* так же проверяет введённый символ на соответствие математическому знаку
>if a == "+" or a == "-" or a == "*" or a == "/":  
        &emsp; return a  
    else:  
      &emsp; return "Error"

И функция *print_data* выводит значение пользователю в консоль

## logger.py

Модуль *logger.py* отвечает за логгирование. В него имплиментирована библиотека *datetime*, для логгирования времени.

Функция *result_logger* принимает в себя значения операндов и операции, после чего создаёт файл *log.csv* и добавляет в него время, выражение и результат работы
>def result_logger(data_a, data_b, data_c, data_d):  
    time = dt.now().strftime("%H:%M")    
    with open("log.csv", "a") as file:  
        file.write(f"{time};{data_a} {data_b} {data_c} = {data_d}")  
        file.write("\n")

Функция *error_log* запускается в случае ошибки и логгирует её появление в этот же файл
>def error_log():  
    time = dt.now().strftime("%H:%M")  
    with open("log.csv", "a") as file:  
        file.write(f"{time};Error")

## Краткое описание

Вся работа происходит в контроллере, сначала он из модуля **View.py** получает числа и операцию, после чего в зависимости от выбранной операции используя модуль **model.py**, в котором выполняются все действия, что возможно совершить, он определяет действие и и совершает его над данными числами, после чего происходит их вывод в **View.py**, который является UI данной программы, и лог через модуль **log.py**. Запуск программы совершается используя модуль **main.py**.


*Программу делал я один*